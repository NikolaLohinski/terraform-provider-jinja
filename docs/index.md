---
page_title: "Jinja provider"
subcategory: ""
description: |-
 The Jinja provider is used render Jinja templates within terraform context. 
---

# Jinja provider

The "jinja" provider makes it possible to use [Jinja](https://jinja.palletsprojects.com) templating within Terraform context. This is a *logical provider*, which means that it works entirely within Terraform's logic, and doesn't interact with any other services.

## Example

```terraform
provider "jinja" {
  delimiters {
    variable_start = "{{"
    variable_end   = "}}"
    block_start    = "{%"
    block_end      = "%}"
    comment_start  = "{#"
    comment_end    = "#}"
  }
  strict_undefined  = false
  left_strip_blocks = false
  trim_blocks       = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `delimiters` (Block, Optional) Custom delimiters for the Jinja engine for all templates (see [below for nested schema](#nestedblock--delimiters))
- `left_strip_blocks` (Boolean) Set to `true` leading spaces and tabs are stripped from the start of a line to a block for all templates
- `strict_undefined` (Boolean) Set to `true` to fail on missing items and attribute for all templates
- `trim_blocks` (Boolean) Set to `true` the first newline after a block is removed for all templates

<a id="nestedblock--delimiters"></a>
### Nested Schema for `delimiters`

Optional:

- `block_end` (String)
- `block_start` (String)
- `comment_end` (String)
- `comment_start` (String)
- `variable_end` (String)
- `variable_start` (String)

## Important considerations

The Jinja engine used under the hood is based on [the `gonja` Golang library](https://github.com/nikolalohinski/gonja/v2) and aims to be "mostly" compliant with the Jinja API. 

Finally, the JSON schema validation engine is based on [the `jsonschema` Golang library](https://github.com/santhosh-tekuri/jsonschema).

The following sections describe the features available in the engine.


## Global Variables

Global variables are runtime variables available in the root scope by default.

```
{{ gonja.version }}
```

### The `gonja` object      

A dictionary containing information about the `gonja` library, with the following properties:
* `version` - the version of the library in use, which is `v0.0.0+trunk` if using any commit from `master` branch


### The `provider` object

A dictionary containing information about the `provider` with the following properties:
* `version` - the version of the provider in use, which is `v0.0.0+trunk` for unreleased versions
* `commit` - the commit SHA of the binary has been built from
* `date` - the date when the binary was built
* `repository` - the URL of the `git` repository of the provider
* `registry` - the URL of the registry the provider is published to


## Control Structures

This section describes the syntax and semantics of the template engine and will be most useful as reference to those creating Jinja templates. A _control structure_  (or _statement_) is a special keyword that can be used through blocks in order to achieve conditional logic in a template.

The following clickable admonition can be used to browse the `python` dedicated documentation for additional details:

| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-control-structures) |
| ---------------------------------------------------------------------------------------------- |

### The `if` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#if) |
| ---------------------------------------------------------------------- |

The `if` control structure in Jinja is comparable with `python`'s `if` control structure.

```
{% if kenny.sick %}
    Kenny is sick.
{% elif kenny.dead %}
    You killed Kenny!  You bastard!!!
{% else %}
    Kenny looks okay --- so far
{% endif %}
```

### The `set` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#assignments) |
| ------------------------------------------------------------------------------- |

Inside code blocks, you can also assign values to variables:

```
{% set groceries = ["eggs", "milk", "vegetables"] %}
{% set csv = groceries | join(",") }
```

For more details on scoping especially within a `for` loop, please refer to the `python` [implementation documentation](https://jinja.palletsprojects.com/en/3.0.x/templates/#assignments).

### The `for` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#for) |
| ----------------------------------------------------------------------- |

Loop over each item in a sequence. For example, to display a list of users provided in a variable called users:

```html
<ul>
{% for user in [{"name": "bob", "name": "alice}] %}
  <li>{{ user.name }}</li>
{% endfor %}
</ul>
```

The `for` control structure can also iterate over dictionaries, and return a key/value pair:
```html
<ul>
{% for key, value in {"one": 1, "two": 2} %}
  <li>{{ key }} is represented as {{ value }}</li>
{% endfor %}
</ul>
```

For more details on the special variables available within the loop, please refer to the [dedicated `python` documentation](https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-control-structures)



### The `include` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#include) |
| --------------------------------------------------------------------------- |

The include tag is useful to include a template and return the rendered contents of that file into the current namespace:

```
{% include 'header.html' %}
    Body
{% include 'footer.html' %}
```

### The `with` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#with-statement) |
| ---------------------------------------------------------------------------------- |

The with control structure makes it possible to create a new inner scope. Variables set within this scope are not visible outside of the scope.

```
{% with foo = 42 %}
    {{ foo }}
{% endwith %}
```
Which is equivalent to:
```
{% with %}
    {% set foo = 42 %}
    {{ foo }}
{% endwith %}
```

### The `filter` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#id11) |
| ------------------------------------------------------------------------ |

Filter sections allow you to apply regular Jinja filters on a full node of template data. It just wraps the code in the special `filter` section:

```
{% filter upper %}
    This text becomes uppercase
{% endfilter %}
```


### The `raw` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#escaping) |
| ---------------------------------------------------------------------------- |

It is sometimes desirable ‚Äì even necessary ‚Äì to have Jinja ignore parts it would otherwise handle as variables or blocks and is possible with the `raw` control structure:
```html
{% raw %}
    <ul>
    {% for item in seq %}
        <li>{{ item }}</li>
    {% endfor %}
    </ul>
{% endraw %}
```

### The `block` and `extends` control structures
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#child-template) |
| ---------------------------------------------------------------------------------- |

The most powerful part of Jinja is template inheritance. Template inheritance allows you to build a base ‚Äúskeleton‚Äù template that contains all the common elements of your site and defines blocks that child templates can override.

This template, which we‚Äôll call `base.html`, defines a simple HTML skeleton document that you might use for a simple two-column page. It‚Äôs the job of ‚Äúchild‚Äù templates to fill the empty blocks with content:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
    <link rel="stylesheet" href="style.css" />
    <title>{% block title %}{% endblock %} - My Webpage</title>
    {% endblock %}
</head>
<body>
    <div id="content">{% block content %}{% endblock %}</div>
    <div id="footer">
        {% block footer %}
        &copy; Copyright 2008 by <a href="http://domain.invalid/">you</a>.
        {% endblock %}
    </div>
</body>
</html>
```

A child template might look like this:

```html
{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>Index</h1>
    <p class="important">
      Welcome to my awesome homepage.
    </p>
{% endblock %}
```

The `{% extends %}` tag is the key here. It tells the template engine that this template ‚Äúextends‚Äù another template. When the template system evaluates this template, it first locates the parent. The extends tag should be the first tag in the template. Everything before it is printed out normally and may cause confusion. Also a block will always be filled in regardless of whether the surrounding condition is evaluated to be `True` or `False`.

### The `import` and `macro` control structures
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#import) |
| -------------------------------------------------------------------------- |

Jinja supports putting often used code into macros. Macros are comparable with functions in regular programming languages. They are useful to put often used idioms into reusable functions to not repeat yourself (‚ÄúDRY‚Äù). These macros can go into different templates and get imported from there. This works similarly to the `import` control structures in Python.


```html
{% macro input(name, value='', type='text', size=20) -%}
    <input type="{{ type }}" name="{{ name }}" value="{{
        value|e }}" size="{{ size }}">
{%- endmacro %}
```

The macro can then be called like a function in the namespace:

```html
<p>{{ input('username') }}</p>
<p>{{ input('password', type='password') }}</p>
```

To access another template‚Äôs variables and macros, you can `import` the whole template module into a variable. That way, you can access the attributes:

```html
{% import 'forms.html' as forms %}
<dl>
    <dt>Username</dt>
    <dd>{{ forms.input('username') }}</dd>
    <dt>Password</dt>
    <dd>{{ forms.input('password', type='password') }}</dd>
</dl>
<p>{{ forms.textarea('comment') }}</p>
```

Alternatively, you can `import` specific names from a template into the current namespace:
```html
{% from 'forms.html' import input as input_field, textarea %}
<dl>
    <dt>Username</dt>
    <dd>{{ input_field('username') }}</dd>
    <dt>Password</dt>
    <dd>{{ input_field('password', type='password') }}</dd>
</dl>
<p>{{ textarea('comment') }}</p>
```
Included templates have access to the variables of the active context by default.

### The `autoescape` control structure
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#autoescape-overrides) |
| ---------------------------------------------------------------------------------------- |

If you want you can activate and deactivate the autoescaping from within the templates.



## Global Functions

Globals functions are helpers available in the global scope by default.

```
{% for index in range(10) %}
counting {{ index + 1 }}
{% endfor %}
```

The following clickable admonition can be used to browse the `python` dedicated documentation for additional details:

| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-global-functions) |
| -------------------------------------------------------------------------------------------- |


### The `dict` function      
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.dict) |
| -------------------------------------------------------------------------------------- |

A convenient alternative to dict literals. `{'foo': 'bar'}` is the same as `dict(foo='bar')`.

### The `namespace` function 
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.namespace) |
| ------------------------------------------------------------------------------------------- |

Creates a new container that allows attribute assignment using the `{% set %}` tag:

```
{% set ns = namespace() %}
{% set ns.foo = 'bar' %}
```

The main purpose of this is to allow carrying a value from within a loop body to an outer scope. Initial values can be provided as a dict, as keyword arguments, or both (same behavior as Python‚Äôs dict constructor):

```
{% set ns = namespace(found=false) %}
{% for item in items %}
    {% if item.check_something() %}
        {% set ns.found = true %}
    {% endif %}
    * {{ item.title }}
{% endfor %}
Found item having something: {{ ns.found }}
```

### The `range` function     
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.range) |
| --------------------------------------------------------------------------------------- |

Return a list containing an arithmetic progression of integers. `range(i, j)` returns _[i, i+1, i+2, ..., j-1]_; the `start` (!) defaults to `0`. When a `step` is given, it specifies the increment (or decrement). For example, `range(4)` and `range(0, 4, 1)` return _[0, 1, 2, 3]_.

### The `cycler` function
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.cycler) |
| ---------------------------------------------------------------------------------------- |

Cycle through values by yielding them one at a time, then restarting once the end is reached.

Similar to `loop.cycle`, but can be used outside loops or across multiple loops. For example, render a list of folders and files in a list, alternating giving them ‚Äúodd‚Äù and ‚Äúeven‚Äù classes.

```html
{% set row_class = cycler("odd", "even") %}
<ul class="browser">
{% for folder in folders %}
  <li class="folder {{ row_class.next() }}">{{ folder }}
{% endfor %}
{% for file in files %}
  <li class="file {{ row_class.next() }}">{{ file }}
{% endfor %}
</ul>
```

### The `joiner` function    
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.joiner) |
| ---------------------------------------------------------------------------------------- |

A tiny helper that can be used to ‚Äújoin‚Äù multiple sections. A `joiner` is passed a string and will return that string every time it‚Äôs called, except the first time (in which case it returns an empty string). You can use this to join things:

```html
{% set pipe = joiner("|") %}
{% if categories %} {{ pipe() }}
    Categories: {{ categories|join(", ") }}
{% endif %}
{% if author %} {{ pipe() }}
    Author: {{ author() }}
{% endif %}
{% if can_edit %} {{ pipe() }}
    <a href="?action=edit">Edit</a>CreatePipelineService
{% endif %}
```

### The `lipsum` function    
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-globals.lipsum) |
| ---------------------------------------------------------------------------------------- |

Generates some lorem ipsum for the template. By default, five paragraphs of HTML are generated with each paragraph between 20 and 100 words. If html is False, regular text is returned. This is useful to generate simple contents for layout testing.


### The `abspath` function

The `abspath` function takes a `path` string containing a filesystem path and converts it to an absolute path. If the path is not absolute, it is resolved according to the directory of the template it is called from.

```
{{ abspath('./path/to/file') }}
```

### The `basename` function

The `basename` function takes a string containing a filesystem path and returns the last portion from it.

```
{{ dirname("path/to/folder/file.txt") }}
```
Will render into:
```
file.txt
```

### The `dirname` function

The `dirname` function takes a string containing a filesystem path and removes the last portion from it.

```
{{ dirname("path/to/folder/file.txt") }}
```
Will render into:
```
path/to/folder
```

### The `uuid` function

The `uuid` function generates a UUID based on [RFC 4122](https://datatracker.ietf.org/doc/html/rfc4122) and DCE 1.1: Authentication and Security Services as implemented in https://pkg.go.dev/github.com/google/uuid.

```
{{ uuid() }}
```

### The `env` function

The `env` function retrieves a environment variable. It will fail if the environment variable is not found but take an additional `default` keyword parameter to set a default value as a fallback.

```
{{ env("USER", default="root") }}
```
### The `file` function

The `file` function is meant to load a local file. It works with both absolute and relative (to the place it's called from) paths. The `file` function does not process the file as a template but simply loads the contents of it.

```
{{ file("some/path") }}
```

### The `fileset` function

The `fileset` function is an operator to explore filesystem trees. It supports glob patterns (using `*`) and double glob patterns (using `**`) in paths, and operates relatively to the
folder that contains the file it is called from.

```
{% for path in fileset("folder/*") %}
{% path %}
{% endfor %}
```


## Filters

Variables can be modified by filters. Filters are separated from the variable by a pipe symbol (`|`) and may have optional arguments in parentheses. Multiple filters can be chained. The output of one filter is applied to the next.

```
{{ "a,b,c" | split(",") | tojson }}

{% set number = "123" | int %}

{% for x in {"first": 1, "second": 2} | values %}
  {{- x }}
{% endfor %}
```

The following clickable admonition can be used to browse the `python` dedicated documentation for additional details on each filter:

| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#builtin-filters) |
| ----------------------------------------------------------------------------------- |

### The `abs` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.abs) |
| ------------------------------------------------------------------------------------- |

Return the absolute value of the integer or float passed.

### The `attr` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.attr) |
| -------------------------------------------------------------------------------------- |

Get an attribute of an object. However, items are not looked up.

### The `batch` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.batch) |
| --------------------------------------------------------------------------------------- |

A filter that batches items. It returns a list of lists with the given number of items and will fill missing items if the second parameter `fille_with` is passed:
```html
<table>
{%- for row in items|batch(3, '&nbsp;') %}
  <tr>
  {%- for column in row %}
    <td>{{ column }}</td>
  {%- endfor %}
  </tr>
{%- endfor %}
</table>
```

### The `capitalize` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.capitalize) |
| -------------------------------------------------------------------------------------------- |

Capitalize a value. The first character will be uppercase, all others lowercase.

### The `center` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.center) |
| ---------------------------------------------------------------------------------------- |

Centers the value in a field of a given width.

### The `default` or `d` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.default) |
| ----------------------------------------------------------------------------------------- |

If the value is undefined it will return the passed default value, otherwise the value of the variable:
```
{{ my_variable | d('my_variable is not defined') }}
```

### The `dictsort` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.dictsort) |
| ------------------------------------------------------------------------------------------ |

Sort a dict and yield (key, value) pairs. Dictionaries may not be in the order you want to display them in, so sort them first.

### The `escape` or `e` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.escape) |
| ---------------------------------------------------------------------------------------- |

Replace the characters &, <, >, ', and " in the string with HTML-safe sequences. Use this if you need to display text that might contain such characters in HTML.

### The `filesizeformat` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.filesizeformat) |
| ------------------------------------------------------------------------------------------------ |

Format the value like a ‚Äòhuman-readable‚Äô file size (i.e. 13 kB, 4.1 MB, 102 Bytes, etc).

### The `first` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.first) |
| --------------------------------------------------------------------------------------- |

Return the first item of a sequence.

### The `float` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.float) |
| --------------------------------------------------------------------------------------- |

Convert the value into a floating point number

### The `forceescape` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.forceescape) |
| --------------------------------------------------------------------------------------------- |

Enforce HTML escaping. This will probably double escape variables.

### The `format` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.format) |
| ---------------------------------------------------------------------------------------- |

Apply the given values to a printf-style format string, like string % values.
```
{{ "%s, %s!"|format(greeting, name) }}
Hello, World!
```

### The `groupby` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.groupby) |
| ----------------------------------------------------------------------------------------- |

Group a sequence of objects by an attribute.

For example, a list of User objects with a city attribute can be rendered in groups. In this example, grouper refers to the city value of the group.

```html
<ul>{% for city, items in users | groupby("city") %}
  <li>{{ city }}
    <ul>{% for user in items %}
      <li>{{ user.name }}
    {% endfor %}</ul>
  </li>
{% endfor %}</ul>
```

### The `indent` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.indent) |
| ---------------------------------------------------------------------------------------- |

Return a copy of the string with each line indented by 4 spaces. The first line and blank lines are not indented by default.

### The `int` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.int) |
| ------------------------------------------------------------------------------------- |

Convert the value into an integer.

### The `join` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.join) |
| -------------------------------------------------------------------------------------- |

Return a string which is the concatenation of the strings in the sequence. The separator between elements is an empty string per default,

### The `last` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.last) |
| -------------------------------------------------------------------------------------- |

Return the last item of a sequence.

### The `length` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.length) |
| ---------------------------------------------------------------------------------------- |

Return the number of items in a container.

### The `list` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.list) |
| -------------------------------------------------------------------------------------- |

Convert the value into a list. If it was a string the returned list will be a list of characters.

### The `lower` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.lower) |
| --------------------------------------------------------------------------------------- |

Convert a value to lowercase.

### The `map` filter

| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.map) |
| ------------------------------------------------------------------------------------- |

Applies a filter on a sequence of objects or looks up an attribute. This is useful when dealing with lists of objects but you are really only interested in a certain value of it.

The basic usage is mapping on an attribute. Imagine you have a list of users but you are only interested in a list of usernames:

```
Users on this page: {{ users | map(attribute='username') | join(', ') }}
```

### The `max` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.max) |
| ------------------------------------------------------------------------------------- |

Return the largest item from the sequence.

### The `min` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.min) |
| ------------------------------------------------------------------------------------- |

Return the smallest item from the sequence.

### The `pprint` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.pprint) |
| ---------------------------------------------------------------------------------------- |

Pretty print a variable.

### The `random` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.random) |
| ---------------------------------------------------------------------------------------- |

Return a random item from the sequence.

### The `rejectattr` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.rejectattr) |
| -------------------------------------------------------------------------------------------- |

Filters a sequence of objects by applying a test to the specified attribute of each object, and rejecting the objects with the test succeeding.

If no test is specified, the attribute‚Äôs value will be evaluated as a boolean.

```
{{ users | rejectattr("is_active") }}
{{ users | rejectattr("email", "none") }}
```

### The `reject` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.reject) |
| ---------------------------------------------------------------------------------------- |

Filters a sequence of objects by applying a test to each object, and rejecting the objects with the test succeeding.

If no test is specified, each object will be evaluated as a boolean.

Example usage:

```
{{ numbers|reject("odd") }}
```

### The `replace` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.replace) |
| ----------------------------------------------------------------------------------------- |

Return a copy of the value with all occurrences of a substring replaced with a new one.

### The `reverse` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.reverse) |
| ----------------------------------------------------------------------------------------- |

Reverse the object or return an iterator that iterates over it the other way round.

### The `round` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.round) |
| --------------------------------------------------------------------------------------- |

Round the number to a given precision. The first parameter specifies the precision (default is 0), the second the rounding method:

* `common` rounds either up or down
* `ceil` always rounds up
* `floor` always rounds down

If you don‚Äôt specify a method `common` is used.

### The `safe` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.safe) |
| -------------------------------------------------------------------------------------- |

Mark the value as safe which means that in an environment with automatic escaping enabled this variable will not be escaped.

### The `selectattr` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.selectattr) |
| -------------------------------------------------------------------------------------------- |

Filters a sequence of objects by applying a test to the specified attribute of each object, and only selecting the objects with the test succeeding.

If no test is specified, the attribute‚Äôs value will be evaluated as a boolean.

```
{{ users | selectattr("is_active") }}
{{ users | selectattr("email", "none") }}
```

### The `select` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.select) |
| ---------------------------------------------------------------------------------------- |

Filters a sequence of objects by applying a test to each object, and only selecting the objects with the test succeeding.

If no test is specified, each object will be evaluated as a boolean.

```
{{ numbers | select("odd") }}
{{ numbers | select("odd") }}
{{ numbers | select("divisibleby", 3) }}
{{ numbers | select("lessthan", 42) }}
{{ strings | select("equalto", "mystring") }}
```

### The `slice` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.slice) |
| --------------------------------------------------------------------------------------- |

Slice an iterator and return a list of lists containing those items. Useful if you want to create a div containing three ul tags that represent columns:

```
<div class="columnwrapper">
  {%- for column in items|slice(3) %}
    <ul class="column-{{ loop.index }}">
    {%- for item in column %}
      <li>{{ item }}</li>
    {%- endfor %}
    </ul>
  {%- endfor %}
</div>
```

If you pass it a second argument it‚Äôs used to fill missing values on the last iteration.

### The `sort` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.sort) |
| -------------------------------------------------------------------------------------- |

Sort an iterable input.

### The `string` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.string) |
| ---------------------------------------------------------------------------------------- |

Convert an object to a string if it isn‚Äôt already.

### The `striptags` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.striptags) |
| ------------------------------------------------------------------------------------------- |

Strip SGML/XML tags and replace adjacent whitespace by one space.

### The `sum` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.sum) |
| ------------------------------------------------------------------------------------- |

Returns the sum of a sequence of numbers plus the value of parameter `start` (which defaults to 0). When the sequence is empty it returns `start`.

It is also possible to sum up only certain attributes:

```
Total: {{ items | sum(attribute='price') }}
```

### The `title` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.title) |
| --------------------------------------------------------------------------------------- |

Return a titlecased version of the value. I.e. words will start with uppercase letters, all remaining characters are lowercase.

### The `tojson` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.tojson) |
| ---------------------------------------------------------------------------------------- |

Serialize an object to a string of JSON. It takes an `indent` parameter to do pretty printing.

### The `trim` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.trim) |
| -------------------------------------------------------------------------------------- |

Strip leading and trailing characters, by default whitespace.

### The `truncate` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.truncate) |
| ------------------------------------------------------------------------------------------ |

Return a truncated copy of the string. The length is specified with the first parameter which defaults to 255.

### The `unique` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.unique) |
| ---------------------------------------------------------------------------------------- |

Returns a list of unique items from the given iterable.

```
{{ ['foo', 'bar', 'foobar', 'FooBar'] | unique }}
```
Will render:
```
['foo', 'bar', 'foobar']
```

Parameters:
* case_sensitive (default: false): Treat upper and lower case strings as distinct.
* attribute (default: None): Filter objects with unique values for this attribute.

### The `upper` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.upper) |
| --------------------------------------------------------------------------------------- |

Convert a value to uppercase.

### The `urlencode` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.urlencode) |
| ------------------------------------------------------------------------------------------- |

Quote data for use in a URL path or query using UTF-8.

### The `urlize` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.urlize) |
| ---------------------------------------------------------------------------------------- |

Convert URLs in text into clickable links.

### The `wordcount` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.wordcount) |
| ------------------------------------------------------------------------------------------- |

Count the words in that string.

### The `wordwrap` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.wordwrap) |
| ------------------------------------------------------------------------------------------ |

Wrap a string to the given width. Existing newlines are treated as paragraphs to be wrapped separately.

### The `xmlattr` filter
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-filters.xmlattr) |
| ----------------------------------------------------------------------------------------- |

Create an SGML/XML attribute string based on the items in a dict.


### The `abspath` filter

The `abspath` filter takes a string containing a filesystem path and converts it to an absolute path. If the path is not absolute, it is resolved according to the directory of the template it is called from.

### The `add`, `append` and `insert` filters

The `insert` filter is meant to add a key value pair to a dict. It expects a key and value to operate.

The `append` filter adds an item to a list. It expects one value to work.

The `add` filter is just the combination of both with type reflection to decide what to do.

```
{%- set object = {"existing": "value", "overridden": 123} | insert("other", true) | add("overridden", "new") -%}
{%- set array = ["one"] | add("two") | append("three") -%}
{{ object | tojson }}
{{ array | tojson }}
```
Will render into:
```
{"existing":"value","other":true,"overridden":"new"}
["one","two","three"]
```

### The `bool` filter

The `bool` filter is meant to cast a string, an int, a bool or `nil` to a boolean value. _Truthful_ values are:
* Any string once lowercased such as `"on"`, `"yes"` `"1"` or `"true"`
* `1` as an integer or `1.0` as a float
* A `True` boolean

_False_ values are:
* Any string once lowercased such as `"off"`, `"no"` `"0"` or `"false"` 
* An empty string
* `0` as an integer or `0.0` as a float
* A `False` boolean
* A `nil` or `None` value

Any other type passed will cause the `bool` filter to fail.


### The `concat` filter

The `concat` filter is meant to concatenate lists together and can take any number of lists to append together.

```
{%- set array = ["one"] | concat(["two"],["three"]) -%}
{{ array | tojson }}
```
Will render into:
```
["one","two","three"]
```

### The `distinct` filter

The `distinct` filter takes any list of elements and returns a new list with duplicates removed.

```
{{ [1, 1, 2, 3, 2, 1] | distinct }}
```
Will render into:
```
[1, 2, 3]
```

### The `basename` filter

The `basename` filter takes a string containing a filesystem path and returns the last portion from it.

```
{{ "path/to/folder/file.txt" | basename }}
```
Will render into:
```
file.txt
```

### The `dirname` filter

The `dirname` filter takes a string containing a filesystem path and removes the last portion from it.

```
{{ "path/to/folder/file.txt" | dirname }}
```
Will render into:
```
path/to/folder
```

### The `env` filter

The `env` filter retrieves a environment variable. It will fail if the environment variable is not found but take an additional `default` keyword parameter to set a default value as a fallback.

```
{{ "USER" | env(default="root") }}
```

### The `fail` filter

The `fail` filter is meant to error out explicitly in a given place of the template.

```
{{ "error message to output" | fail }}
```

### The `file` filter

The `file` filter is meant to load a local file into a variable. It works with both absolute and relative (to the place it's called from) paths. The `file` filter does not process the file as a template but simply loads the contents of it.

```
{% set content = "some/path" | file %}
{{ content }}
```

### The `fileset` filter

The `fileset` filter is a filesystem filter meant to be used with the `include` statement to dynamically include files.
It supports glob patterns (using `*`) and double glob patterns (using `**`) in paths, and operates relatively to the
folder that contains the file being rendered.

```
{% for path in "folder/*" | fileset %}
{% include path %}
{% endfor %}
```

### The `frombase64` filter

The `frombase64` filter is meant to decode a string encoded in base64.

```
{{ 'SGVsbG8gV29ybGQh' | frombase64 }}
```

Will render into:

```
Hello World!
```

### The `fromcsv` filter

The `fromcsv` filter decodes a string containing CSV-formatted data and produces a list of maps representing that data.

CSV stands for Comma-Separated Values, an encoding format for tabular data. There are many variants of CSV, but this function implements the format defined in [RFC 4180](https://datatracker.ietf.org/doc/html/rfc4180).

The first line of the CSV data is interpreted as a "header" row: the values given are used as the keys in the resulting maps. Each subsequent line becomes a single map in the resulting list, matching the keys from the header row with the given values by index. All lines in the file must contain the same number of fields, or this function will produce an error.

```
{{ 'a,b,c\n1,2,3\n4,5,6' | fromcsv }}
```

Will render into:

```
[{'a': '1', 'b': '2', 'c': '3'}, {'a': '4', 'b': '5', 'c': '6'}]
```

### The `fromjson` filter

The `fromjson` filter is meant to parse a JSON string into a useable object.

```
{%- set object = "{ \"nested\": { \"field\": \"value\" } }" | fromjson -%}
{{ object.nested.field }}
```
Will render into:
```
value
```

### The `fromtoml` filter

The `fromtoml` filter is meant to parse a TOML string into a useable object.

```
{%- set object = "[nested]\nfield = \"value\"" | fromtoml -%}
{{ object.nested.field }}
```
Will render into:
```
value
```

### The `fromtfvars` filter

The `fromtfvars` filter is meant to parse a string with terraform variable definitions as formalized in [`tfvars` files](https://developer.hashicorp.com/terraform/language/values/variables#variable-definitions-tfvars-files) into a useable object.

```
{%- set tfvars = 'foo = { bar = "test" }' | fromtfvars -%}
{{ tfvars.foo.bar }}
```
Will render into:
```
test
```

### The `fromyaml` filter

The `fromyaml` filter is meant to parse a YAML string into a useable object.

```
{%- set object = "nested:\n  field: value\n" | fromyaml -%}
{{ object.nested.field }}
```
Will render into:
```
value
```

### The `get` filter

The `get` filter helps getting an item in a map with a dynamic key:

```
{% set tac = "key" %}
{{ tic | get(tac) }}
```
With the following YAML context:
```
tic:
  key: toe
```
Will render into:
```
toe
```

The filter has the following keyword attributes:

- `strict`: a boolean to fail if the key is missing from the map. Defaults to `False` ;
- `default`: any value to pass as default if the key is not found. This takes precedence over the `strict` attribute if defined. Defaults to nil value ;

### The `ifelse` filter

The `ifelse` filter is meant to perform ternary conditions as follows:

```
true is {{ "foo" in "foo bar" | ifelse("yes", "no") }}
false is {{ "yolo" in "foo bar" | ifelse("yes", "no") }}
```
Which will render into:
```
true is yes
false is no
```

### The `keys` filter

The `keys` filter is meant to get the keys of a map as a list:

```
{{ letters | keys | sort | join(" > ") }}
```
With the following YAML context:
```
letters:
  a: hey
  b: bee
  c: see
```
Will render into:
```
a > b > c
```

Note that the order of keys is not guaranteed as there is no ordering in Golang maps.

### The `match` filter

Expects a string holding a regular expression to be passed as an argument to match against the input. Returns `true` if the input matches the expression and `false` otherwise. For example:

```
{{ "123 is a number" | match("^[0-9]+") }}
```

will render as:

```
True
```

### The `merge` filter

Use this filter to deeply merge two dictionaries together. In case of duplicate keys, the value from the pipeline dictionary take precedence unless `override` is set to `True`.

```
{{ {'fizz': 'buzz', 'foo': 'bar'} | merge({'foo': 'test'}, override=True) }}
```

will return:

```
{'fizz': 'buzz', 'foo': 'test'}
```

### The `sha1`, `sha256`, `sha512` and `md5` filters

Classic hashing algorithms that work on strings as depicted in:

- https://pkg.go.dev/crypto/sha1
- https://pkg.go.dev/crypto/sha256
- https://pkg.go.dev/crypto/sha512
- https://pkg.go.dev/crypto/md5

For example:

```
{{ 'test' | md5 }}
```
Will render into:
```
098f6bcd4621d373cade4e832627b4f6
```

### The `split` filter

The `split` filter is meant to split a string into a list of strings using a given delimiter.

```
{%- set array = "one/two/three" | split("/") -%}
{{ array | tojson }}
```
Will render into:
```
["one","two","three"]
```

### The `tobase64` filter

The `tobase64` filter is meant to encode a string to a base64 representation.

```
{{ 'Hello World!' | tobase64 }}
```

Will render into:

```
SGVsbG8gV29ybGQh
```

### The `totoml` filter

The `totoml` filter is meant to render a given object as TOML.

```
{%- set object = "{ \"nested\": { \"field\": \"value\" } }" | fromjson -%}
{{ object | totoml }}
```
Will render into:
```
[nested]
field = "value"
```

### The `toyaml` filter


The `toyaml` filter is meant to render a given object as YAML. It takes an optional argument called `indent` to
specify the indentation to apply to the result, which defaults to `2` spaces.

```
{%- set object = "{ \"nested\": { \"field\": \"value\" } }" | fromjson -%}
{{ object | toyaml }}
```
Will render into:
```
nested:
  field: value
```

### The `try` filter

The `try` filter is meant to gracefully evaluate an expression. It returns an `undefined` value if the passed expression is undefined or throws an error. Otherwise, it returns the value passed in the context of the pipeline.

```
{%- if (empty.missing | try) is undefined -%}
	Now you see {{ value | try }}!
{%- endif -%}
```
With the following YAML context and `strict_undefined` set to `true`:
```
empty: {}
value: me
```
Will render into:
```
Now you see me!
```

This is useful when `strict_undefined = true` is set but you need to handle a missing key without throwing errors in a given template ;

### The `values` filter

The `values` filter is meant to get the values of a map as a list:

```
{{ numbers | values | sort | join(" > ") }}
```
With the following YAML context:
```
numbers:
  first: 1
  second: 2
  third: 3
```
Will render into:
```
1 > 2 > 3
```


## Tests

A test can be used in blocks and/or expressions to trigger conditional behavior, for example:

```
{% if variable is string %}
   This was a string: {{ variable }}
{% elif variable is sequence %}
   This was a list: {{ variable | join(",") }}
{% end if%}
```

The following clickable admonition can be used to browse the `python` dedicated documentation for additional details:

| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#list-of-builtin-tests) |
| ----------------------------------------------------------------------------------------- |

### The `callable` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.callable) |
| ---------------------------------------------------------------------------------------- |

Return whether the object is callable (i.e., some kind of function).

### The `defined` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.defined) |
| --------------------------------------------------------------------------------------- |

Tells whether a variable is defined.

### The  `undefined` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.undefined) |
| ----------------------------------------------------------------------------------------- |

Tells when a variable is not defined.

### The `divisibleby` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.divisibleby) |
| ------------------------------------------------------------------------------------------- |

Check if a variable is divisible by a number.
```
{% if 2048 is divisibleby 512 %}
    Yes it is modulo 4
{% endif %}
```

### The `eq`, `equalto` or `==` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.eq) |
| ---------------------------------------------------------------------------------- |

Classic equality comparisons.

### The `ne`  or `!=` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.ne) |
| ---------------------------------------------------------------------------------- |

Classic arithmetic inequality comparisons.

### The `ge` or `>=` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.ge) |
| ---------------------------------------------------------------------------------- |

Classic arithmetic comparisons.

### The `gt` or `>` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.gt) |
| ---------------------------------------------------------------------------------- |

Classic arithmetic comparisons.

### The `le` or `<=` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.le) |
| ---------------------------------------------------------------------------------- |

Classic arithmetic comparisons.


### The `lt` or `<` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.lt) |
| ---------------------------------------------------------------------------------- |

Classic arithmetic comparisons.

### The `even` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.even) |
| ------------------------------------------------------------------------------------ |

Tells whether a given number can be divided by 2.

### The `odd` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.odd) |
| ----------------------------------------------------------------------------------- |

Tells whether a given number can not be divided by 2.

### The `in` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.in) |
| ---------------------------------------------------------------------------------- |

Return whether the input contains the argument:
* on strings, tells whether the provided substring is part of the tested one ;
* on lists, tells whether the argument in the tested list ;
* on dictionaries, tells whether the argument is a key of the dictionary.
```
{{ "foo" is in "foobar" }}            // True
{{ 4 is in [1, 2, 3] }}               // False
{{ "key" is in {"key": "value"} }}    // True
{{ "value" is in {"key": "value"} }}  // False
```

### The `iterable` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.iterable) |
| ---------------------------------------------------------------------------------------- |

Check if it‚Äôs possible to iterate over the tested input, i.e the object is either a list, a dictionary or a string.

### The `none` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.none) |
| ------------------------------------------------------------------------------------ |

Return `True` if the input is `nil` or `None`

### The `mapping` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.mapping) |
| --------------------------------------------------------------------------------------- |

Classic type casting tests.

### The `sequence` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.sequence) |
| ---------------------------------------------------------------------------------------- |

Classic type casting tests.

### The `number` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.number) |
| -------------------------------------------------------------------------------------- |

Classic type casting tests.

### The `string` test
| [üêç `python`](https://jinja.palletsprojects.com/en/3.0.x/templates/#jinja-tests.string) |
| -------------------------------------------------------------------------------------- |

Classic type casting tests.


### The `empty` test
Check if the input is empty. Works on strings, lists and dictionaries.


## Methods

Methods are Go implementations of class functions available on native `python` types. For example:

```
{{ "hello".upper() }}
```

The following clickable admonition can be used to browse the `python` dedicated documentation for additional details:

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html) |
| ------------------------------------------------------------- |


### The `bool` type      

_Booleans are subtypes of integers in `python`._

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html#additional-methods-on-integer-types) |
| ------------------------------------------------------------------------------------------------- |

#### The `bit_length()` method

Returns the number of bits necessary to represent an integer in binary, excluding the sign and leading zeros.

#### The `bit_count()` method

Returns the number of ones in the binary representation of the absolute value of the integer. This is also known as the population count.

### The `int` type      

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html#additional-methods-on-integer-types) |
| ------------------------------------------------------------------------------------------------- |

#### The `is_integer()` method

Returns `True`. Exists for duck type compatibility with `float.is_integer()`.


### The `float` type      

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html#additional-methods-on-float) |
| ----------------------------------------------------------------------------------------- |

#### The `is_integer()` method

Returns `True` if the float instance is finite with integral value, and `False` otherwise.

### The `str` type

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html#string-methods) |
| ---------------------------------------------------------------------------- |

#### The `upper()` method

Returns a copy of the string with all the cased characters converted to uppercase.

#### The `startswith(prefix[, start[, end]])` method

Returns `True` if string starts with the prefix, otherwise return `False`. The `prefix` parameter can also be a tuple (or a list which is not supported in `python`) of prefixes to look for. 

With optional `start`, test string beginning at that position. With optional `end`, stop comparing string at that position.

#### The `encode(encoding='utf-8', errors='strict')` method

Return the string encoded to bytes. Encoding defaults to `'utf-8'` and only `'iso-8859-1'` is also supported. `errors` controls how encoding errors are handled and can be set to `'strict'` or `'ignore'`.

### The `list` type      

| [üêç `python`](https://docs.python.org/3/tutorial/datastructures.html#data-structures) |
| ------------------------------------------------------------------------------------ |

#### The `reverse()` method

Reverses the elements of the list in place.

#### The `append(x)` method

Adds an item to the end of the list.

#### The `copy()` method

Returns a shallow copy of the list.

### The `dict` type      

| [üêç `python`](https://docs.python.org/3/library/stdtypes.html#mapping-types-dict) |
| -------------------------------------------------------------------------------- |

#### The `keys()` method

Returns a list of the dictionary‚Äôs keys.
